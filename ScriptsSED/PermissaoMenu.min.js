function CarregarPermissoes(e) { CarregarViewPermissao(parseInt(e.value), false); document.all("PermissaoPerfil").CD_PERFIL = e.value } function CarregarViewPermissao(e, t) { var n = "/Permissao/PermissaoPerfilParcial"; $.ajax({ cache: false, url: n, data: { cdPerfil: e, marcado: t }, type: "GET", datatype: "html", success: function (e) { $("div#PermissaoPerfil").html(e); $("#TabelaPermissoes").sedDataTable() }, error: function () { Mensagem.Alert({ titulo: "Permissão", mensagem: "Ocorreu um erro durante o preenchimento das permissões por perfil", botao: "Fechar", tipo: "erro" }) } }) } function AtualizarPermissao(e) { var t = "/Permissao/AtualizarPermissao"; var n = false; var r = false; var i = false; var s = document.getElementById("PermissaoPerfil").CD_PERFIL; var o = $(e).parents("tr").find("#checkPermissaoAdicionar, #checkPermissaoEditar, #checkPermissaoDeletar"); if ($(o).closest("#checkPermissaoAdicionar").is(":checked")) n = true; if ($(o).closest("#checkPermissaoEditar").is(":checked")) r = true; if ($(o).closest("#checkPermissaoDeletar").is(":checked")) i = true; $.ajax({ cache: false, url: t, data: { cd_menu: e.value, cd_perfil: s, checado: e.checked, Adicionar: n, Editar: r, Deletar: i }, type: "GET", datatype: "html", success: function () { if (!e.checked) { o.prop("checked", false); o.attr("disabled", "disabled") } else { o.removeAttr("disabled") } fct_renderPartialMenu() }, error: function () { Mensagem.Alert({ titulo: "Permissão", mensagem: "Ocorreu um erro durante o preenchimento das permissões por perfil", botao: "Fechar", tipo: "erro" }) } }) } function fct_renderPartialMenu() { $.ajax({ url: "/Menu/RenderPartialMenu", type: "GET", dataType: "html", success: function (e) { $("#menuAside").html(e) } }) } function AtualizarPermissaoTodos(e) { var t = "/Permissao/AtualizarPermissaoTodos"; $.ajax({ cache: false, url: t, data: { cd_Perfil: document.all("PermissaoPerfil").CD_PERFIL, Checado: e.checked }, type: "GET", datatype: "html", success: function (t) { CarregarViewPermissao(document.all("PermissaoPerfil").CD_PERFIL, e.checked) }, error: function () { Mensagem.Alert({ titulo: "Permissão", mensagem: "Ocorreu um erro durante o preenchimento das permissões por perfil", botao: "Fechar", tipo: "erro" }) } }) } function AtualizarCheckbox(e) { $("input[type=checkbox]").each(function () { if (this.id == "checkPermissao") { this.checked = e } }) } function AtualizarPermissaoCrud(e) { var t = "/Permissao/AtualizarPermissaoCrud"; $.ajax({ cache: false, url: t, data: { cd_menu: e.value, cd_perfil: document.all("PermissaoPerfil").CD_PERFIL, checado: e.checked, tipo: e.id }, type: "GET", datatype: "html", error: function () { alert("Ocorreu um erro durante o preenchimento das permissões por perfil. Action = /Menu/AtualizarPermissaoCrud"); Mensagem.Alert({ titulo: "Permissão", mensagem: "Ocorreu um erro durante o preenchimento das permissões por perfil", botao: "Fechar", tipo: "sucesso" }) } }) }
/*
//# sourceMappingURL=PermissaoMenu.min.js.map
*/