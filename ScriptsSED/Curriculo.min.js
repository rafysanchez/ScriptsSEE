var anoLetivoAnterior,tipoEnsinoAnterior,serieAnterior,disciplinaAnterior,bimestreAnterior,anoLetivoAlterado,anoLetivoPesquisa,editado,ConfigurarCamposCurriculo=function(){anoLetivoPesquisa=0;$("#txtAnoLetivoCad").keyup(function(){ValidarAlteracaoAnoLetivo($(this),anoLetivoAnterior)});$("#txtAnoLetivoCad").keypress(function(n){if((anoLetivoAlterado=!1,!(n.charCode>=48&&n.charCode<=57||n.keyCode>=37&&n.keyCode<=40||n.keyCode==8||n.keyCode==46))||$(this).val().length>=4&&n.charCode>=48&&n.charCode<=57)return!1;anoLetivoAlterado=!0;$(this).val()!=""&&(anoLetivoAnterior=$(this).val())});$("#txtAnoLetivoCad").blur(function(){anoLetivoAlterado==!0&&(anoLetivoPesquisa!=TratarValorNumerico($(this).val())||$(this).val()=="")&&($("#txtAnoLetivoCad").unbind("blur"),$("#txtAnoLetivoCad").unbind("change"),$("#txtAnoLetivoCad").autoPreencher($("#ddlTipoEnsino"),"TipoEnsino","CarregarListaTiposEnsino",[{id:"0",AnoLetivo:"txtAnoLetivoCad"}]),$("#txtAnoLetivoCad").trigger("change"),$("#txtAnoLetivoCad").trigger("blur"),VerificarCurriculoExistente(),PesquisarDisciplina($("#txtAnoLetivoCad"),$("#ddlTipoEnsino"),$("#ddlSerie")))});$("#ddlTipoEnsino").change(function(){ValidarAlteracaoTipoEnsino($(this),tipoEnsinoAnterior)});$("#ddlDisciplina").change(function(){ValidarAlteracaoDisciplina($(this),disciplinaAnterior)});$("#ddlBimestre").change(function(){ValidarAlteracaoBimestre($(this),bimestreAnterior)})},ValidarAlteracaoAnoLetivo=function(n,t){($("#conteudo .tabelaItem").html()!=""||$("#habilidade .tabelaItem").html()!="")&&editado==!0&&(anoLetivoAlterado=!1,MensagemConfirmacaoAnoLetivo(n,t))},MensagemConfirmacaoAnoLetivo=function(n,t){Mensagem.Alert({titulo:"Atenção!",mensagem:"Ao alterar este valor todos os dados informados de Conteúdo e Habilidade serão perdidos. Deseja continuar?",tipo:"aviso",botoes:[{botao:"Sim",callback:function(){LimparCurriculo();anoLetivoAlterado=!0;$.unblockUI();$(n).focus()}},{botao:"Não",callback:function(){$(n).val(t);$.unblockUI();$(n).focus()}}]})},ValidarAlteracaoTipoEnsino=function(n,t){($("#conteudo .tabelaItem").html()!=""||$("#habilidade .tabelaItem").html()!="")&&editado==!0?MensagemConfirmacaoTipoEnsino(n,t):(tipoEnsinoAnterior=$(n).val(),CarregarSerie(n),PesquisarDisciplina($("#txtAnoLetivoCad"),$("#ddlTipoEnsino"),$("#ddlSerie")),VerificarCurriculoExistente())},MensagemConfirmacaoTipoEnsino=function(n,t){Mensagem.Alert({titulo:"Atenção!",mensagem:"Ao alterar este valor todos os dados informados de Conteúdo e Habilidade serão perdidos. Deseja continuar?",tipo:"aviso",async:!1,botoes:[{botao:"Sim",callback:function(){LimparCurriculo();tipoEnsinoAnterior=$(n).val();CarregarSerie(n);PesquisarDisciplina($("#txtAnoLetivoCad"),$("#ddlTipoEnsino"),$("#ddlSerie"))}},{botao:"Não",callback:function(){$(n).val(t);$.unblockUI()}}]})},ValidarAlteracaoSerie=function(n,t){($("#conteudo .tabelaItem").html()!=""||$("#habilidade .tabelaItem").html()!="")&&editado==!0?MensagemConfirmacaoSerie(n,t):(serieAnterior=$(n).val(),PesquisarDisciplina($("#txtAnoLetivoCad"),$("#ddlTipoEnsino"),$("#ddlSerie")),VerificarCurriculoExistente())},MensagemConfirmacaoSerie=function(n,t){Mensagem.Alert({titulo:"Atenção!",mensagem:"Ao alterar este valor todos os dados informados de Conteúdo e Habilidade serão perdidos. Deseja continuar?",tipo:"aviso",async:!1,botoes:[{botao:"Sim",callback:function(){LimparCurriculo();serieAnterior=$(n).val();PesquisarDisciplina($("#txtAnoLetivoCad"),$("#ddlTipoEnsino"),$("#ddlSerie"))}},{botao:"Não",callback:function(){$(n).val(t);$.unblockUI()}}]})},ValidarAlteracaoDisciplina=function(n,t){($("#conteudo .tabelaItem").html()!=""||$("#habilidade .tabelaItem").html()!="")&&editado==!0?MensagemConfirmacaoDisciplina(n,t):(disciplinaAnterior=$(n).val(),VerificarCurriculoExistente())},MensagemConfirmacaoDisciplina=function(n,t){Mensagem.Alert({titulo:"Atenção!",mensagem:"Ao alterar este valor todos os dados informados de Conteúdo e Habilidade serão perdidos. Deseja continuar?",tipo:"aviso",async:!1,botoes:[{botao:"Sim",callback:function(){LimparCurriculo();disciplinaAnterior=$(n).val();$.unblockUI()}},{botao:"Não",callback:function(){$(n).val(t);$.unblockUI()}}]})},ValidarAlteracaoBimestre=function(n,t){($("#conteudo .tabelaItem").html()!=""||$("#habilidade .tabelaItem").html()!="")&&editado==!0?MensagemConfirmacaoBimestre(n,t):(bimestreAnterior=$(n).val(),VerificarCurriculoExistente())},MensagemConfirmacaoBimestre=function(n,t){Mensagem.Alert({titulo:"Atenção!",mensagem:"Ao alterar este valor todos os dados informados de Conteúdo e Habilidade serão perdidos. Deseja continuar?",tipo:"aviso",async:!1,botoes:[{botao:"Sim",callback:function(){LimparCurriculo();bimestreAnterior=$(n).val();$.unblockUI()}},{botao:"Não",callback:function(){$(n).val(t);$.unblockUI()}}]})},LimparCurriculo=function(){$.ajax({cache:!1,url:"/Curriculo/LimparCurriculo",type:"POST",datatype:"HTML",data:{},traditional:!0,success:function(){AtualizarConteudo();AtualizarHabilidade();AlterarConteudo();RemoverConteudo();RemoverHabilidade();VerificarCurriculoExistente()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},VerificarCurriculoExistente=function(){var t=TratarValorNumerico($("#txtAnoLetivoCad").val()),i=TratarValorNumerico($("#ddlDisciplina").val()),r=TratarValorNumerico($("#ddlTipoEnsino").val()),u=TratarValorNumerico($("#ddlSerie").val()),f=TratarValorNumerico($("#ddlBimestre").val()),e=$("#ddlSerie").val()!=undefined,n;t!=0&&i!=0&&r!=0&&f!=0&&u!=0==e&&(n=0,$.ajax({cache:!1,url:"/Curriculo/VerificarCurriculoExistente",type:"POST",datatype:"HTML",async:!1,data:{anoLetivo:TratarValorNumerico($("#txtAnoLetivoCad").val()),codigoDisciplina:TratarValorNumerico($("#ddlDisciplina").val()),tipoEnsino:TratarValorNumerico($("#ddlTipoEnsino").val()),serie:TratarValorNumerico($("#ddlSerie").val()),bimestre:TratarValorNumerico($("#ddlBimestre").val())},traditional:!0,success:function(){$.ajax({cache:!1,url:"/Curriculo/AtualizarConteudo",type:"POST",datatype:"HTML",data:{conteudoSelecionado:n},traditional:!0,success:function(t){$("#conteudo").html(t);RemoverConteudo();AlterarConteudo();$(".editarConteudo").click(function(){EditarConteudo($(this),"Editar Conteúdo")});$.ajax({cache:!1,url:"/Curriculo/AtualizarHabilidade",type:"POST",datatype:"HTML",data:{conteudoSelecionado:n},traditional:!0,success:function(n){$("#habilidade").html(n);$(".editarHabilidade").click(function(){EditarHabilidade($(this),"Editar Habilidade")});RemoverHabilidade();AssociarConteudoHabilidade();$(".rdbConteudo").length>0&&(editado=!1)},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}))},TratarValorNumerico=function(n){return n==undefined?0:n==""?0:isNaN(n)?0:parseInt(n)};$(document).ready(function(){Cadastrar();ConfigurarModal();CarregarSerieFiltro();CarregarDisciplinaPorAnoLetivoFiltro();ValidarFormularioPesquisa();PesquisarCurriculo();$("#txtAnoLetivoFiltro").autoPreencher($("#ddlTipoEnsinoFiltro"),"TipoEnsino","CarregarListaTiposEnsino",[{id:"0",AnoLetivo:"txtAnoLetivoFiltro"}]).trigger("change");$("#ddlTipoEnsinoFiltro").change(function(){PesquisarDisciplinaFiltro($("#txtAnoLetivoFiltro"),$("#ddlTipoEnsinoFiltro"),$("#ddlSerieFiltro"))})});var ConfigurarModal=function(){$("#dialog").dialog({autoOpen:!1,title:"",position:"top",width:820,resizable:!1,modal:!0,dragable:!1,show:{},beforeClose:function(){$("#result").html()!=""&&$("#btnPesquisar").trigger("click")}})},Cadastrar=function(){$("#btnCadastrar").click(function(){$.ajax({cache:!1,url:"/Curriculo/Cadastrar",type:"POST",datatype:"HTML",data:{},traditional:!0,success:function(n){$("#dialog").html(n);$(".serie").hide();$("#serie").html("");RemoverConteudo();RemoverHabilidade();AlterarConteudo();ConfigurarCamposCurriculo();ConfigurarModalConteudo();ConfigurarModalHabilidade();ValidarFormularioCadastro();SalvarCadastro();AplicarMascaras();$("#dialog").dialog("open")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},CarregarSerie=function(n){var i=TratarValorNumerico($(n).val()),t;($(".serie").hide(),$("#serie").html(""),i!=0)&&(t=" ",t=t+'<select id="ddlSerie" name="ddlSerie" class="input-xlarge" > ',t=t+'   <option value="">Selecione...<\/option> ',$.ajax({cache:!1,url:"/TipoEnsino/CarregarListaSerie",type:"POST",datatype:"JSON",data:{id:i},traditional:!0,success:function(n){if(n.length>0){for(var i=0;i<n.length;i++)t=t+'   <option value="'+n[i].value+'">'+n[i].text+"<\/option> ";t=t+"<\/select> ";$("#serie").html(t);$("#ddlSerie").change(function(){ValidarAlteracaoSerie($("#ddlSerie"),serieAnterior)});$(".serie").show()}},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}))},CarregarDisciplinaPorAnoLetivo=function(){},PesquisarDisciplina=function(n,t,i){AbrirMensagemCarregandoPagina();var u=TratarValorNumerico($(n).val()),f=TratarValorNumerico($(t).val()),e=TratarValorNumerico($(i).val()),r='<option value="">Selecione...<\/option>';anoLetivoPesquisa=u;u>1e3?$.ajax({cache:!1,url:"/Disciplina/CarregarListaDiciplinasQuebraPorTipoEnsino_Serie",type:"POST",datatype:"JSON",data:{CodigoTipoEnsino:f,NrSerie:e,AnoLetivo:u},traditional:!0,success:function(n){if(n.length>0)for(var t=0;t<n.length;t++)r=r+'   <option value="'+n[t].value+'">'+n[t].text+"<\/option> ";$("#ddlDisciplina").html(r)},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}):($("#ddlDisciplina").html(r),FecharMensagemCarregandoPagina())},PesquisarDisciplinaFiltro=function(n,t,i){var u=TratarValorNumerico($(n).val()),f=TratarValorNumerico($(t).val()),e=TratarValorNumerico($(i).val()),r='<option value="">Selecione...<\/option>';u>1e3?$.ajax({cache:!1,url:"/Disciplina/CarregarListaDiciplinasQuebraPorTipoEnsino_Serie",type:"POST",datatype:"JSON",data:{CodigoTipoEnsino:f,NrSerie:e,AnoLetivo:u},traditional:!0,success:function(n){if(n.length>0)for(var t=0;t<n.length;t++)r=r+'   <option value="'+n[t].value+'">'+n[t].text+"<\/option> ";$("#ddlDisciplinaFiltro").html(r)},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}):($("#ddlDisciplinaFiltro").html(r),FecharMensagemCarregandoPagina())},ConfigurarModalConteudo=function(){$("#dialogConteudo").dialog({autoOpen:!1,position:"middle",width:450,resizable:!1,modal:!0,dragable:!1,show:{},beforeClose:function(){}});$(".adicionarConteudo").click(function(){EditarConteudo($(this),"Adicionar Conteúdo")});$(".editarConteudo").click(function(){EditarConteudo($(this),"Editar Conteúdo")})},EditarConteudo=function(n,t){var i=TratarValorNumerico($(n).attr("codigoControle"));$.ajax({cache:!1,url:"/Curriculo/EditarConteudo",type:"POST",datatype:"HTML",data:{codigoControle:i},traditional:!0,success:function(n){$("#dialogConteudo").html(n);$(".tituloCont").html(t);SalvarConteudo();$("#dialogConteudo").dialog("open");$("#txtConteudo").focus()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},SalvarConteudo=function(){$("#btnSalvarConteudo").click(function(){var n=$("#txtConteudo").val(),t,i;n!=""&&(t=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle")),i=TratarValorNumerico($(this).attr("codigoControle")),$.ajax({cache:!1,url:"/Curriculo/SalvarConteudo",type:"POST",datatype:"HTML",data:{conteudoSelecionado:t,codigoControle:i,descricao:n},traditional:!0,success:function(n){$("#conteudo").html(n);AtualizarHabilidade();RemoverConteudo();AlterarConteudo();editado=!0;$(".editarConteudo").click(function(){EditarConteudo($(this),"Editar Conteúdo")});$("#dialogConteudo").dialog("close")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}))})},RemoverConteudo=function(){$(".removerConteudo").click(function(){var n=parseInt($(this).attr("codigoControle")),t=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle"));Mensagem.Alert({titulo:"Atenção!",mensagem:"Deseja realmente excluir o Conteúdo?",tipo:"aviso",botoes:[{botao:"Sim",callback:function(){$.ajax({cache:!1,url:"/Curriculo/RemoverConteudo",type:"POST",datatype:"HTML",data:{conteudoSelecionado:t,codigoControle:n},traditional:!0,success:function(n){$("#conteudo").html(n);$(".editarConteudo").click(function(){EditarConteudo($(this),"Editar Conteúdo")});AtualizarHabilidade();RemoverConteudo();AlterarConteudo();editado=!0}})}},{botao:"Não",callback:function(){$.unblockUI()}}]})})},AtualizarConteudo=function(){var n=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle"));$.ajax({cache:!1,url:"/Curriculo/AtualizarConteudo",type:"POST",datatype:"HTML",data:{conteudoSelecionado:n},traditional:!0,success:function(n){$("#conteudo").html(n);RemoverConteudo();AlterarConteudo()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},ConfigurarModalHabilidade=function(){$("#dialogHabilidade").dialog({autoOpen:!1,position:"middle",width:450,resizable:!1,modal:!0,dragable:!1,show:{},beforeClose:function(){}});$(".adicionarHabilidade").click(function(){EditarHabilidade($(this),"Adicionar Habilidade")});$(".editarHabilidade").click(function(){EditarHabilidade($(this),"Editar Habilidade")})},EditarHabilidade=function(n,t){var i=TratarValorNumerico($(n).attr("codigoControle"));$.ajax({cache:!1,url:"/Curriculo/EditarHabilidade",type:"POST",datatype:"HTML",data:{codigoControle:i},traditional:!0,success:function(n){$("#dialogHabilidade").html(n);$(".tituloHab").html(t);SalvarHabilidade();$("#dialogHabilidade").dialog("open");$("#txtHabilidade").focus()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},SalvarHabilidade=function(){$("#btnSalvarHabilidade").click(function(){var n=$("#txtHabilidade").val(),t,i;n!=""&&(t=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle")),i=TratarValorNumerico($(this).attr("codigoControle")),$.ajax({cache:!1,url:"/Curriculo/SalvarHabilidade",type:"POST",datatype:"HTML",data:{conteudoSelecionado:t,codigoControle:i,descricao:n},traditional:!0,success:function(n){$("#habilidade").html(n);editado=!0;RemoverHabilidade();AssociarConteudoHabilidade();$(".editarHabilidade").click(function(){EditarHabilidade($(this),"Editar Habilidade")});$("#dialogHabilidade").dialog("close")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}))})},teste,RemoverHabilidade=function(){$(".removerHabilidade").click(function(){var n=parseInt($(this).attr("codigoControle")),t=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle"));Mensagem.Alert({titulo:"Atenção!",mensagem:"Deseja realmente excluir a Habilidade?",tipo:"aviso",botoes:[{botao:"Sim",callback:function(){$.ajax({cache:!1,url:"/Curriculo/RemoverHabilidade",type:"POST",datatype:"HTML",data:{conteudoSelecionado:t,codigoControle:n},traditional:!0,success:function(n){$("#habilidade").html(n);$(".editarHabilidade").click(function(){EditarHabilidade($(this),"Editar Habilidade")});RemoverHabilidade();AssociarConteudoHabilidade();editado=!0}})}},{botao:"Não",callback:function(){$.unblockUI()}}]})})},AtualizarHabilidade=function(){var n=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle"));$.ajax({cache:!1,url:"/Curriculo/AtualizarHabilidade",type:"POST",datatype:"HTML",data:{conteudoSelecionado:n},traditional:!0,success:function(n){$("#habilidade").html(n);$(".editarHabilidade").click(function(){EditarHabilidade($(this),"Editar Habilidade")});RemoverHabilidade();AssociarConteudoHabilidade()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},AssociarConteudoHabilidade=function(){$(".chkHabilidade").change(function(){var n=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle")),t=TratarValorNumerico($(this).attr("codigoControle"));$.ajax({cache:!1,url:"/Curriculo/AssociarConteudoHabilidade",type:"POST",datatype:"HTML",data:{conteudoSelecionado:n,codigoHabilidade:t},traditional:!0,success:function(){AtualizarHabilidade()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},AlterarConteudo=function(){$(".rdbConteudo").change(function(){AtualizarHabilidade()})},ValidarFormularioCadastro=function(){$(".form").validate({rules:{txtAnoLetivoCad:{required:!0},ddlDisciplina:{required:!0},ddlTipoEnsino:{required:!0},ddlSerie:{required:!0},ddlBimestre:{required:!0}},messages:{txtAnoLetivoCad:{required:"Obrigatório"},ddlDisciplina:{required:"Obrigatório"},ddlTipoEnsino:{required:"Obrigatório"},ddlSerie:{required:"Obrigatório"},ddlBimestre:{required:"Obrigatório"}}})},SalvarCadastro=function(){$("#btnSalvarCadastro").click(function(n){(n.preventDefault(),$(".form").valid()!=!1)&&$.ajax({cache:!1,url:"/Curriculo/SalvarCadastro",type:"POST",datatype:"HTML",data:{anoLetivo:TratarValorNumerico($("#txtAnoLetivoCad").val()),codigoDisciplina:TratarValorNumerico($("#ddlDisciplina").val()),tipoEnsino:TratarValorNumerico($("#ddlTipoEnsino").val()),serie:TratarValorNumerico($("#ddlSerie").val()),bimestre:TratarValorNumerico($("#ddlBimestre").val())},traditional:!0,success:function(n){n=="1"&&($("#dialog").dialog("close"),$("#dialog").html(""))},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},CarregarSerieFiltro=function(){$(".serieFiltro").hide();$("#serieFiltro").html("");$("#ddlTipoEnsinoFiltro").change(function(){var t=TratarValorNumerico($(this).val()),n;($(".serieFiltro").hide(),$("#serieFiltro").html(""),t!=0)&&(n=" ",n=n+'<select id="ddlSerieFiltro" name="ddlSerieFiltro" class="input-xlarge" > ',n=n+'   <option value="">Selecione...<\/option> ',$.ajax({cache:!1,url:"/TipoEnsino/CarregarListaSerie",type:"POST",datatype:"JSON",data:{id:t},traditional:!0,success:function(t){if(t.length>0){for(var i=0;i<t.length;i++)n=n+'   <option value="'+t[i].value+'">'+t[i].text+"<\/option> ";n=n+"<\/select> ";$("#serieFiltro").html(n);$(".serieFiltro").show();$("#ddlSerieFiltro").change(function(){PesquisarDisciplinaFiltro($("#txtAnoLetivoFiltro"),$("#ddlTipoEnsinoFiltro"),$("#ddlSerieFiltro"))})}},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}))})},CarregarDisciplinaPorAnoLetivoFiltro=function(){$("#txtAnoLetivoFiltro").blur(function(){})},ValidarFormularioPesquisa=function(){$(".formFiltro").validate({rules:{txtAnoLetivoFiltro:{required:!0},ddlTipoEnsinoFiltro:{required:!0}},messages:{txtAnoLetivoFiltro:{required:"Obrigatório"},ddlTipoEnsinoFiltro:{required:"Obrigatório"}}})},PesquisarCurriculo=function(){$("#btnPesquisar").click(function(n){(n.preventDefault(),$(".formFiltro").valid()!=!1)&&$.ajax({cache:!1,url:"/Curriculo/PesquisarCurriculo",type:"POST",datatype:"HTML",data:{anoLetivo:TratarValorNumerico($("#txtAnoLetivoFiltro").val()),codigoDisciplina:TratarValorNumerico($("#ddlDisciplinaFiltro").val()),tipoEnsino:TratarValorNumerico($("#ddlTipoEnsinoFiltro").val()),serie:TratarValorNumerico($("#ddlSerieFiltro").val()),bimestre:TratarValorNumerico($("#ddlBimestreFiltro").val())},traditional:!0,success:function(n){$("#result").html(n);DetalharCurriculo();EditarCurriculo();Excluir();$("#tabelaCurriculo").sedDataTable()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},DetalharCurriculo=function(){$(".detalhar").click(function(){var n=TratarValorNumerico($(this).children().first().val());$.ajax({cache:!1,url:"/Curriculo/Detalhar",type:"POST",datatype:"HTML",data:{codigo:n},traditional:!0,success:function(n){$("#dialog").html(n);$("#dialog").dialog("open");DetalharHabilidade();Duplicar()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},DetalharHabilidade=function(){$(".rdbConteudo").change(function(){var n=TratarValorNumerico($(".rdbConteudo:checked").attr("codigoControle"));$.ajax({cache:!1,url:"/Curriculo/DetalharHabilidade",type:"POST",datatype:"HTML",data:{conteudoSelecionado:n},traditional:!0,success:function(n){$("#habilidade").html(n);DetalharHabilidade()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},EditarCurriculo=function(){$(".editar").click(function(){var n=TratarValorNumerico($(this).children().first().val());$.ajax({cache:!1,url:"/Curriculo/Editar",type:"POST",datatype:"HTML",data:{codigo:n},traditional:!0,success:function(n){$("#dialog").html(n);ConfigurarModalConteudo();ConfigurarModalHabilidade();RemoverConteudo();RemoverHabilidade();$(".rdbConteudo").change(function(){AtualizarHabilidade()});SalvarAlteracao();$("#dialog").dialog({autoOpen:!0,modal:!0,draggable:!0,width:820,position:["center",0],show:{position:{top:500}},hide:{},open:function(){AssociarConteudoHabilidade()}})},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},SalvarAlteracao=function(){$("#btnAtualizar").click(function(n){n.preventDefault();$.ajax({cache:!1,url:"/Curriculo/SalvarAlteracao",type:"POST",datatype:"HTML",data:{},traditional:!0,success:function(n){n=="1"&&($("#dialog").dialog("close"),$("#dialog").html(""))},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},Excluir=function(){$(".excluir").click(function(){var n=TratarValorNumerico($(this).children().first().val());Mensagem.Alert({titulo:"Atenção!",mensagem:"Deseja realmente excluir o Currículo?",tipo:"aviso",botoes:[{botao:"Sim",callback:function(){$.ajax({url:"/Curriculo/Excluir",type:"POST",dataType:"HTML",async:!0,data:{codigo:n},success:function(n){n=="1"&&$("#btnPesquisar").trigger("click")},error:function(){Mensagem.CarregarMensagens("Fechar")}})}},{botao:"Não",callback:function(){$.unblockUI()}}]})})},Duplicar=function(){$("#btnDuplicar").click(function(){$.ajax({url:"/Curriculo/Duplicar",type:"POST",dataType:"HTML",async:!0,data:{},success:function(n){$("#dialog").html(n);anoLetivoAnterior=0;RemoverConteudo();RemoverHabilidade();AlterarConteudo();CarregarSerie();CarregarDisciplinaPorAnoLetivo();ConfigurarModalConteudo();ConfigurarModalHabilidade();AplicarMascaras();ValidarFormularioCadastro();SalvarCadastro();VoltarDuplicacao()},error:function(){Mensagem.CarregarMensagens("Fechar")}})})},VoltarDuplicacao=function(){$("#btnVoltar").click(function(){var n=TratarValorNumerico($(this).attr("codigoCurriculo"));$.ajax({cache:!1,url:"/Curriculo/Detalhar",type:"POST",datatype:"HTML",data:{codigo:n},traditional:!0,success:function(n){$("#dialog").html(n);$("#dialog").dialog("open");DetalharHabilidade();Duplicar()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})};
/*
//# sourceMappingURL=Curriculo.min.js.map
*/