function InserirEditar(){$(".selIdUsuario").length>0&&CarregarDados();$("ul.perfis > li.perfil").click(function(){var n=$(this).find(".checkbox"),i=$(this).find(".codigoPerfil").val(),t;n.hasClass("checked")?(n.removeClass("checked"),$(this).find(".hdnValores").remove(),$(this).next().hasClass("conteudoExpansivel")&&$(this).next().find(".associacoes tbody tr").remove()):(n.addClass("checked"),t=GerarIndice(),$(this).append('<input type="hidden" class="hdnValores" name="Usuario.Perfis.Index" value="'+t+'" /><input type="hidden" class="hdnValores" name="Usuario.Perfis['+t+'].CodigoPerfil" value="'+i+'" />'));$(this).next().hasClass("conteudoExpansivel")&&$(this).next().slideToggle()});$(".ddlAddEscola").each(function(){$(this).autoPreencher($(this).parents(".conteudoExpansivel").find(".ddlEscola"),"Escola","CarregarListaEscolas")});$(".btnAdicionarDiretoria").click(function(n){var t,i,r;n.preventDefault();t=$(this).parents(".conteudoExpansivel");t.find(".associacoes").show();t.find(".selCodigoDiretoria[value="+t.find(".ddlAddDiretoria").val()+"]").length===0&&$.trim(t.find(".ddlAddDiretoria").val())!=""?(i=GerarIndice(),r=t.prev().find(".codigoPerfil").val(),t.find(".tblDiretoriasSelecionadas tbody").append('<tr><td class="ellipsis tdDiretoria"><input type="hidden" name="Usuario.listaDiretoriaEscola.Index" value="'+i+'" /><input type="hidden" name="Usuario.listaDiretoriaEscola['+i+'].CodigoPerfil" value="'+r+'" /><input type="hidden" class="selCodigoDiretoria" name="Usuario.listaDiretoriaEscola['+i+'].CodigoDiretoria" value="'+t.find(".ddlAddDiretoria").val()+'" /><span class="txtNomeDiretoria">'+t.find(".ddlAddDiretoria option:selected").text()+'<\/span><\/td><td class="ellipsis tdEscola">Todas<\/td><td class="ellipsis btnExcluir"><a onclick="$(this).parent().parent().remove();"><i class="icone-tabela-excluir" title="Excluir"><\/i><\/a><\/td><\/tr>')):alert("Selecione uma diretoria diferente.")});$(".btnAdicionarEscola").click(function(n){var t,i,r;n.preventDefault();t=$(this).parents(".conteudoExpansivel");t.find(".associacoes").show();t.find(".selCodigoEscola[value="+t.find(".ddlEscola").val()+"]").length===0&&$.trim(t.find(".ddlAddEscola").val())!=""&&$.trim(t.find(".ddlEscola").val())!=""?(i=GerarIndice(),r=t.prev().find(".codigoPerfil").val(),t.find(".tblEscolasSelecionadas tbody").append('<tr><td class="ellipsis tdDiretoria"><input type="hidden" name="Usuario.listaDiretoriaEscola.Index" value="'+i+'" /><input type="hidden" name="Usuario.listaDiretoriaEscola['+i+'].CodigoPerfil" value="'+r+'" /><input type="hidden" name="Usuario.listaDiretoriaEscola['+i+'].CodigoDiretoria" value="'+t.find(".ddlAddEscola").val()+'" /><span class="txtNomeDiretoria">'+t.find(".ddlAddEscola option:selected").text()+'<\/span><\/td><td class="ellipsis tdEscola"><input type="hidden" class="selCodigoEscola" name="Usuario.listaDiretoriaEscola['+i+'].CodigoEscola" value="'+t.find(".ddlEscola").val()+'" /><span class="txtNomeEscola">'+t.find(".ddlEscola option:selected").text()+'<\/span><\/td><td class="ellipsis btnExcluir"><a onclick="$(this).parent().parent().remove();"><i class="icone-tabela-excluir" title="Excluir"><\/i><\/a><\/td><\/tr>')):alert("Selecione uma escola diferente.")});CarregarMascaras();$("#formUsuario").validate({rules:{"Usuario.nomeUsuario":"required","Usuario.loginUsuario":"required","Usuario.senhaUsuario":{required:{depends:function(){return $(".selIdUsuario").length==0}},minlength:8},"Usuario.rgUsuario":{required:!0,number:!0},"Usuario.digitoRgUsuario":{digRG:!0},"Usuario.UfRgUsuario":"required","Usuario.cpfUsuario":"required","Usuario.emailUsuario":"required"},messages:{"Usuario.nomeUsuario":"Obrigatório","Usuario.loginUsuario":"Obrigatório","Usuario.senhaUsuario":{required:"Obrigatório",minlength:"Senha curta"},"Usuario.rgUsuario":{required:"Obrigatório",number:"Somente números"},"Usuario.digitoRgUsuario":{digRG:"Carácter inválido"},"Usuario.UfRgUsuario":"Obrigatório","Usuario.cpfUsuario":"Obrigatório","Usuario.emailUsuario":"Obrigatório"}});$('input[type="text"]').focus(function(){$(this).addClass("focus")});$('input[type="text"]').blur(function(){$(this).removeClass("focus")});$("#btnUsuario").click(function(n){n.preventDefault();var t=$("#formUsuario");t.valid()?t.submit():$(".error:first").focus()})}function SomenteLetras(n){var t=window.event?event.keyCode:n.which;return t>65&&t<90||t>97&&t<122?!0:t!=8?!1:!0}function CarregarMascaras(){$("#rneUsuarioExtrangeiro").VerificaNumero();$("#rgUsuario").VerificaNumero();$("#cpfUsuario").VerificaNumero();$("#tituloEleitoralUsuario").VerificaNumero();$("#telefoneResidencialUsuario").VerificaNumero();$("#telefoneComercialUsuario").VerificaNumero();$("#telefoneCelularUsuario").VerificaNumero()}function CarregarDados(){CarregarPerfis();$(".txtNomeDiretoria").each(function(){var n=$(this).siblings(".cdDiretoria").val();$(this).text($(".diretoria."+n).val())});$(".txtNomeEscola").each(function(){var n=$(this).siblings(".selCodigoEscola").val();$(this).text($(".escola."+n).val())});$(".conteudoExpansivel").prev().each(function(){$(this).find(".codigoPerfil").siblings(".checkbox").hasClass("checked")&&$(this).next().show().find("table.associacoes").show()})}function CarregarPerfis(){$(".hdnCodigoPerfil").each(function(){var t=$("li.perfil .codigoPerfil[value="+$(this).val()+"]"),n;t.siblings(".checkbox").addClass("checked");n=GerarIndice();t.parent().append('<input type="hidden" class="hdnValores" name="Usuario.Perfis.Index" value="'+n+'" /><input type="hidden" class="hdnValores" name="Usuario.Perfis['+n+'].CodigoPerfil" value="'+$(this).val()+'" />')})}function FecharDialog(n){n.responseJSON&&n.responseJSON.Sucesso&&$("#dialog").dialog("close")}function ClickBotaoPerfis(n){$.ajax({cache:!1,url:"/Usuario/ListarPerfis/",data:{login:$(n).parents("tr").find(".loginUsuario").html()},type:"GET",dataType:"html",success:function(n){$("#dialog").html(n).dialog({width:820,draggable:!1,modal:!0,resizable:!1,position:"top"});InserirEditar()}})}function ClickBotaoEditar(n){$.ajax({cache:!1,url:"/Usuario/Editar/"+$(n).parents("tr").find(".itemId").val(),type:"GET",dataType:"html",success:function(n){$("#dialog").html(n).dialog({width:820,draggable:!1,modal:!0,resizable:!1,position:"top"});InserirEditar()}})}function ClickBotaoExcluir(n){confirm("Deseja excluir este Usuário?")&&$.ajax({url:"/Usuario/Deletar/"+$(n).parents("tr").find(".itemId").val(),type:"POST",success:function(n){n&&n.Sucesso&&$("#carregarUsuarios").trigger("click")}})}
/*
//# sourceMappingURL=Usuario.min.js.map
*/