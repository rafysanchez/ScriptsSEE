function Adicionar(){$.ajax({type:"POST",async:!0,cache:!1,dataType:"html",url:"/ResponsavelAluno/Adicionar",success:function(n){$("#Adicionar").empty().html(n);var t=$("#Adicionar")[0],i=$(t).clone().attr("id","AdicionarClone"),r=$(t).html();$(t).html("");$(i).dialog({width:850,draggable:!1,modal:!0,resizable:!1,show:{effect:"blind",duration:1e3},position:"top",open:function(){$("#CodigoDiretoria").autoPreencher($("#CodigoEscola"),"Escola","CarregarListaEscolas");$("#CodigoEscola").autoPreencher($("#CodigoTipoEnsino"),"TipoEnsino","CarregarListaTiposEnsino");$("#CodigoTipoEnsino").autoPreencher($("#CodigoTurma"),"Turma","CarregarListaTurmaPorTipoEnsino",["CodigoEscola","CodigoTipoEnsino","AnoLetivo"],undefined);AplicarMascaras();$("#frmAdicionar").validate({rules:{txtCodigo:{number:!0},txtNome:{nome:!0},txtRa:{number:!0},txtUfRa:{letras:!0}},messages:{txtCodigo:{number:"Informe apenas números."},txtNome:{nome:"Caracter inválido."},txtRa:{number:"Informe apenas números."},txtUfRa:{letras:"Informe apenas letras."}}});$("#btnPesquisarAlunos").click(function(n){if(n.preventDefault(),$("#frmAdicionar").valid())CarregarPesquisaAlunos();else return!1})},close:function(){$("#AlunosClone").dialog("close");$(i).remove();$(t).empty()}})},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})}function CarregarPesquisaAlunos(){var t=$("#CodigoDiretoria").val(),i=$("#CodigoEscola").val(),r=$("#CodigoTurma").val(),u=$("#txtNomeAluno").val(),f=$("#txtRa").val(),e=$("#txtDigRa").val(),o=$("#txtUfRa").val(),n=$("#AnoLetivo").val(),s;t.length==0&&(t=0);i.length==0&&(i=0);r.length==0&&(r=0);n.length==0&&(n=0);n!=0&&t!=0&&i!=0&&r!=0||n!=0&&t!=0&&i!=0&&u.length>0||n!=0&&f!=""&&e!=""&&o!=""?CarregarViewPesquisaAlunos(t,i,r,u,f,e,o,n):(s="Preencha o filtro mínimo.",Mensagem.Alert({titulo:"Aviso",mensagem:s,tipo:"Aviso",botao:"Fechar"}))}function CarregarViewPesquisaAlunos(n,t,i,r,u,f,e,o){$.ajax({type:"POST",async:!0,cache:!1,dataType:"html",data:{codigoResponsavel:parseInt($("#hdnCodigoResponsavel").val()),codigoDiretoria:parseInt(n),codigoEscola:parseInt(t),codigoTurma:parseInt(i),nomeAluno:r,ra:u,digRa:f,ufRa:e,anoLetivo:o},url:"/ResponsavelAluno/ListarAlunos",success:function(n){$("#dadosAluno").html(n);$("#tbAlunosAdicionar").sedDataTable({sScrollX:"100%",sScrollXInner:"120%"});location.hash="#tbAlunosAdicionar"},error:function(){}})}function Associar(n,t){var i=$("#"+n).find("#ddlTipo").val();i.length>0?$.ajax({type:"POST",async:!0,cache:!1,data:{codigoAluno:parseInt(n),codigoResponsavel:parseInt(t),tipo:parseInt(i)},url:"/ResponsavelAluno/Associar",success:function(){$("#"+n).find("#ddlTipo").prop("disabled","disabled");$("#"+n).find(".add").remove()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}}):Mensagem.Alert({titulo:"Aviso",mensagem:"É preciso selecionar um tipo de responsabilidade para associar um aluno.",tipo:"Aviso",botao:"Fechar"})}function Excluir(n,t){Mensagem.Alert({titulo:"Atenção!",mensagem:"Deseja realmente excluir o Aluno?",tipo:"aviso",botoes:[{botao:"Sim",callback:function(){$.ajax({type:"POST",cache:!1,async:!0,data:{codigoAluno:parseInt(n),codigoResponsavel:parseInt(t)},url:"/ResponsavelAluno/Excluir",success:function(){$("#AlunosClone").dialog("close");Alunos(t);$("#tbAlunosAdicionar").sedDataTable()},error:function(){}})}},{botao:"Não",callback:function(){$.unblockUI()}}]})}function Alterar(n,t){var i=parseInt($(n).val()),r=parseInt($("#hdnCodigoResponsavel").val());$.ajax({type:"POST",async:!0,cache:!1,data:{codigoAluno:parseInt(t),codigoResponsavel:r,tipo:i},url:"/ResponsavelAluno/Alterar",success:function(){},error:function(){}})}function ZeraTurma(){$("#CodigoTurma option").each(function(){$(this).val()!=""&&$(this).remove()});$("#CodigoTipoEnsino option[value='']").attr("selected","selected")}
/*
//# sourceMappingURL=ResponsavelAluno.min.js.map
*/