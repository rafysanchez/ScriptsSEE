$(document).ready(function(){$("#tabelaParametrizacao").sedDataTable();$("#tabelaFundamentoLegal").sedDataTable();$("#tabelaPassos").sedDataTable();$("#tabelaTipoSolicitacao").sedDataTable();$("#dialogCadastro").dialog({autoOpen:!1,title:"Parametrizar Solicitação",position:"top",width:820,resizable:!1,modal:!0,dragable:!1,show:{effect:"blind",duration:200},beforeClose:function(){}});$("#dialogTipoSolicitacao").dialog({autoOpen:!1,title:"Tipo de Solicitação",position:"top",width:820,resizable:!1,modal:!0,dragable:!1,show:{effect:"blind",duration:200},beforeClose:function(){ConsultarTipoSolicitacao()}});AdicionarParametrizacao();AdicionarFundamentoLegal();CarregarPasso();DetalharTipoSolicitacao();EditarTipoSolicitacao();ExcluirTipoSolicitacao();SalvarCadastro()});var SalvarCadastro=function(){$(".formCadastro").validate({rules:{TipoProcesso_Codigo:{required:!0},txtNomeSolicitacao:{required:!0},txtDescricao:{required:!0}},messages:{TipoProcesso_Codigo:{required:"Obrigatório"},txtNomeSolicitacao:{required:"Obrigatório"},txtDescricao:{required:"Obrigatório"}}});$("#btnCadastrarParametrizacaoSolicitacao").click(function(n){if(n.preventDefault(),$(".formCadastro").valid()==!1){Mensagem.Alert({titulo:"Aviso",mensagem:"Campos obrigatórios não informados.",tipo:"Aviso",botao:"Fechar"});return}var t="";if($("#tabelaFundamentoLegal tbody tr.fundamento").length<=0&&(t=t+(t==""?"":"<br /> <br />")+"Informe ao menos um Fundamento Legal."),$("#tabelaPassos tbody tr.passo").length<=0&&($("#txtObservacao").val()==""||$("#txtProcedimento").val()=="")&&(t=t+(t==""?"":"<br /> <br />")+"Para o processo selecionado é obrigatório o preenchimento dos campos Observações e Procedimentos."),t!=""){Mensagem.Alert({titulo:"Ocorrência",mensagem:t,tipo:"Aviso",botao:"Fechar"});return}passoValidado=0;$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ValidarPreenchimentoCamposPasso",type:"POST",datatype:"html",data:{},traditional:!0,success:function(n){n==""&&$.ajax({cache:!1,url:"/ParametrizarSolicitacao/SalvarCadastro",type:"POST",datatype:"html",data:{nome:$("#txtNomeSolicitacao").val(),descricao:$("#txtDescricao").val(),observacao:$("#txtObservacao").val(),procedimento:$("#txtProcedimento").val()},traditional:!0,success:function(){window.location.href="/ParametrizarSolicitacao/Cadastro"},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},SalvarAtualizacao=function(){$(".formCadastro").validate({rules:{txtNomeSolicitacao:{required:!0},txtDescricao:{required:!0}},messages:{txtNomeSolicitacao:{required:"Obrigatório"},txtDescricao:{required:"Obrigatório"}}});$("#btnAtualizarTipoSolicitacao").click(function(n){if(n.preventDefault(),$(".formCadastro").valid()==!1){Mensagem.Alert({titulo:"Aviso",mensagem:"Campos obrigatórios não informados.",tipo:"Aviso",botao:"Fechar"});return}var t="";if($("#tabelaFundamentoLegal tbody tr.fundamento").length<=0&&(t=t+(t==""?"":"<br /> <br />")+"Informe ao menos um Fundamento Legal."),$("#tabelaPassos tbody tr.passo").length<=0&&($("#txtObservacao").val()==""||$("#txtProcedimento").val()=="")&&(t=t+(t==""?"":"<br /> <br />")+"Para o processo selecionado é obrigatório o preenchimento dos campos Observações e Procedimentos."),t!=""){Mensagem.Alert({titulo:"Ocorrência",mensagem:t,tipo:"Aviso",botao:"Fechar"});return}$.ajax({cache:!1,url:"/ParametrizarSolicitacao/SalvarAtualizacao",type:"POST",datatype:"html",data:{nome:$("#txtNomeSolicitacao").val(),descricao:$("#txtDescricao").val(),observacao:$("#txtObservacao").val(),procedimento:$("#txtProcedimento").val()},traditional:!0,success:function(){$("#dialogTipoSolicitacao").dialog("close")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},AdicionarParametrizacao=function(){$("#btnAdicionarAbrangencia").click(function(){$("#dialogCadastro").dialog({title:"Cadastrar Parametrização"});$.ajax({cache:!1,url:"/ParametrizarSolicitacao/AdicionarParametrizacao",type:"POST",datatype:"html",data:{},traditional:!0,success:function(n){$("#dialogCadastro").html(n);$("#TipoEnsino_CD_TIPO_ENSINO").autoPreencher($("#Serie"),"TipoEnsino","CarregarListaSerie");$("#tabelaDisciplina").sedDataTable({bPaginate:!1});SelecionarDisciplina();SalvarParametrizacao();$("#dialogCadastro").dialog("open")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},EditarParametrizacao=function(){$(".editarParametrizacao").click(function(){var n=parseInt($(this).children().first().val());$("#dialogCadastro").dialog({title:"Editar Parametrização"});$.ajax({cache:!1,url:"/ParametrizarSolicitacao/EditarParametrizacao",type:"POST",datatype:"html",data:{codigo:n},traditional:!0,success:function(n){$("#dialogCadastro").html(n);$("#TipoEnsino_CD_TIPO_ENSINO").autoPreencher($("#Serie"),"TipoEnsino","CarregarListaSerie");$("#tabelaDisciplina").sedDataTable({bPaginate:!1});SelecionarDisciplina();SalvarParametrizacao();$("#dialogCadastro").dialog("open")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ExcluirParametrizacao=function(){$(".excluirParametrizacao").click(function(){var n=parseInt($(this).children().first().val());$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ExcluirParametrizacao",type:"POST",datatype:"html",data:{codigo:n},traditional:!0,success:function(n){$("#gridParametrizacao").html(n);$("#tabelaParametrizacao").sedDataTable();EditarParametrizacao();ExcluirParametrizacao()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},SalvarParametrizacao=function(){$("#btnCadastrarParametrizacao").click(function(){var r=$("#hdfCodigoParametrizacao").val()=="0"?0:parseInt($("#hdfCodigoParametrizacao").val()),n=$("#TipoEnsino_CD_TIPO_ENSINO").val()==""?0:parseInt($("#TipoEnsino_CD_TIPO_ENSINO").val()),t=$("#Serie").val()==""?0:parseInt($("#Serie").val()),i=$("#Disciplina_CD_DISCIPLINA").val()=="0"?0:parseInt($("#Disciplina_CD_DISCIPLINA").val());if(n<=0&&t<=0&&i<=0){Mensagem.Alert({titulo:"Aviso",mensagem:"Informe ao menos um dos parâmetros.",tipo:"Aviso",botao:"Fechar"});return}$.ajax({cache:!1,url:"/ParametrizarSolicitacao/SalvarParametrizacao",type:"POST",datatype:"html",data:{codigo:r,codigoTipoEnsino:n,serie:t,codigoDisciplina:i},traditional:!0,success:function(n){$("#gridParametrizacao").html(n);$("#tabelaParametrizacao").sedDataTable();EditarParametrizacao();ExcluirParametrizacao();$("#dialogCadastro").dialog("close")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},SelecionarDisciplina=function(){$("#dialogDisciplina").dialog({autoOpen:!1,title:"Seleção de Disciplina",position:{at:"left+288 bottom+152",of:"#Disciplina_NOME_DISCIPLINA"},width:570,resizable:!1,modal:!0,dragable:!1,show:{effect:"blind",duration:200}});$("#Disciplina_NOME_DISCIPLINA").click(function(){$("#dialogDisciplina").dialog("open");$(".disciplinaSelecionada").click(function(){var n=$(this).find("input").val(),t=$(this).find("label").html();$("#Disciplina_CD_DISCIPLINA").val(n);$("#Disciplina_NOME_DISCIPLINA").val(t);$("#dialogDisciplina").dialog("close")})});$("#Disciplina_NOME_DISCIPLINA").css({color:"#666666","background-color":"#EEEEEE"});parseInt($("#Disciplina_CD_DISCIPLINA").val())<=0&&$("#Disciplina_NOME_DISCIPLINA").val("Selecione...");$("#Disciplina_NOME_DISCIPLINA").keydown(function(n){n.preventDefault()});$("#limparDisciplina").click(function(){$("#Disciplina_CD_DISCIPLINA").val("0");$("#Disciplina_NOME_DISCIPLINA").val("Selecione...")})},AdicionarFundamentoLegal=function(){$("#btnAdicionarFundamentoLegal").click(function(){$("#dialogCadastro").dialog({title:"Cadastrar Hipótese Legal"});$.ajax({cache:!1,url:"/ParametrizarSolicitacao/AdicionarFundamentoLegal",type:"POST",datatype:"html",data:{},traditional:!0,success:function(n){$("#dialogCadastro").html(n);$("#dialogCadastro").dialog("open");SalvarFundamentoLegal()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},EditarFundamentoLegal=function(){ValidacaoFundamentoLegal();$(".detalhaFundamentoLegal").click(function(){var n=$(this).children().first().val();$("#dialogCadastro").dialog({title:"Detalhes de Hipótese Legal"});$.ajax({cache:!1,url:"/ParametrizarSolicitacao/EditarFundamentoLegal",type:"POST",datatype:"html",data:{codigo:parseInt(n)},traditional:!0,success:function(n){$("#dialogCadastro").html(n);$("#dialogCadastro").dialog("open");SalvarFundamentoLegal()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},SalvarFundamentoLegal=function(){ValidacaoFundamentoLegal();$("#btnCadastrarFundamentoLegal").click(function(n){if(n.preventDefault(),$(".formCadFundamentoLegal").valid()==!1){Mensagem.Alert({titulo:"Aviso",mensagem:"Campos obrigatórios não informados.",tipo:"Aviso",botao:"Fechar"});return}$.ajax({cache:!1,url:"/ParametrizarSolicitacao/SalvarFundamentoLegal",type:"POST",datatype:"html",data:{codigo:parseInt($("#hdfCodigoFundamentoLegal").val()),nome:$("#txtNomeFundamentoLegal").val(),descricao:$("#txtDescricaoFundamentoLegal").val()},traditional:!0,success:function(n){$("#gridFundamentoLegal").html(n);EditarFundamentoLegal();ExcluirFundamentoLegal();$("#tabelaFundamentoLegal").sedDataTable();$("#dialogCadastro").dialog("close")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ExcluirFundamentoLegal=function(){$(".excluirFundamentoLegal").click(function(){var n=$(this).children().first().val();$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ExcluirFundamentoLegal",type:"POST",datatype:"html",data:{codigo:parseInt(n)},traditional:!0,success:function(n){$("#gridFundamentoLegal").html(n);$("#tabelaFundamentoLegal").sedDataTable();EditarFundamentoLegal();ExcluirFundamentoLegal()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},DetalharFundamentoLegal=function(){$(".detalharFundamentoLegal").click(function(){var n=$(this).children().first().val();$("#dialogCadastro").dialog({title:"Detalhes de Hipótese Legal"});$.ajax({cache:!1,url:"/ParametrizarSolicitacao/DetalharFundamentoLegal",type:"POST",datatype:"html",data:{codigo:parseInt(n)},traditional:!0,success:function(n){$("#dialogCadastro").html(n);$("#dialogCadastro").dialog("open");SalvarFundamentoLegal()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ValidacaoFundamentoLegal=function(){$(".formCadFundamentoLegal").validate({rules:{txtNomeFundamentoLegal:{required:!0},txtDescricaoFundamentoLegal:{required:!0}},messages:{txtNomeFundamentoLegal:{required:"Obrigatório"},txtDescricaoFundamentoLegal:{required:"Obrigatório"}}})},CarregarPasso=function(){$("#TipoProcesso_Codigo").change(function(){var n;$(this).val()==""?tipoProcesso=0:n=parseInt($(this).val());$.ajax({cache:!1,url:"/ParametrizarSolicitacao/CarregarPasso",type:"POST",datatype:"html",data:{tipoProcesso:n},traditional:!0,success:function(n){$("#gripPassos").html(n);$("#tabelaPassos").sedDataTable();ConfigurarPasso()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ConfigurarPasso=function(){$(".configurarPasso").click(function(){var n=$(this).children().first().val();$("#dialogCadastro").dialog({title:"Detalhes do Passo"});$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ConfigurarPasso",type:"POST",datatype:"html",data:{ordem:parseInt(n)},traditional:!0,success:function(n){$("#dialogCadastro").html(n);$("#tabelaPerfilPermissao").sedDataTable();$("#tabelaDocumento").sedDataTable();AdicionarPermissao();ExcluirPermissao();AdicionarDocumento();ExcluirDocumento();SalvarPasso();$("#dialogCadastro").dialog("open")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},SalvarPasso=function(){ValidacaoPasso();$("#btnAlterarPasso").click(function(n){if(n.preventDefault(),$(".formConfigPasso").valid()==!1){Mensagem.Alert({titulo:"Aviso",mensagem:"Campos obrigatórios não informados.",tipo:"Aviso",botao:"Fechar"});return}$.ajax({cache:!1,url:"/ParametrizarSolicitacao/SalvarPasso",type:"POST",datatype:"html",data:{descricao:$("#txtDescricaoPasso").val()},traditional:!0,success:function(n){$("#gripPassos").html(n);$("#tabelaPassos").sedDataTable();ConfigurarPasso();$("#dialogCadastro").dialog("close")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},DetalharPasso=function(){$(".detalharPasso").click(function(){var n=$(this).children().first().val();$("#dialogCadastro").dialog({title:"Detalhes do Passo"});$.ajax({cache:!1,url:"/ParametrizarSolicitacao/DetalharPasso",type:"POST",datatype:"html",data:{ordem:parseInt(n)},traditional:!0,success:function(n){$("#dialogCadastro").html(n);$("#tabelaPerfilPermissao").sedDataTable();$("#tabelaDocumento").sedDataTable();$("#dialogCadastro").dialog("open")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ValidacaoPasso=function(){$(".formConfigPasso").validate({rules:{Ator_CodigoPerfil:{required:!0},txtDescricaoPasso:{required:!0}},messages:{Ator_CodigoPerfil:{required:"Obrigatório"},txtDescricaoPasso:{required:"Obrigatório"}}})},AdicionarPermissao=function(){$("#btnAdicionarPermissaoPasso").click(function(){$("#ddlPermissao").val()!=""&&$.ajax({cache:!1,url:"/ParametrizarSolicitacao/AdicionarPermissao",type:"POST",datatype:"html",data:{codigoPerfil:parseInt($("#ddlPermissao").val())},traditional:!0,success:function(n){$("#gridPerfilPermissao").html(n);$("#tabelaPerfilPermissao").sedDataTable();AdicionarPermissao();ExcluirPermissao()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ExcluirPermissao=function(){$(".excluiPerfilPermissao").click(function(){var n=$(this).children().first().val();$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ExcluirPermissao",type:"POST",datatype:"html",data:{codigoPerfil:parseInt(n)},traditional:!0,success:function(n){$("#gridPerfilPermissao").html(n);$("#tabelaPerfilPermissao").sedDataTable();AdicionarPermissao();ExcluirPermissao()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},AdicionarDocumento=function(){$("#btnAdicionarDocumento").click(function(){$("#ddlDocumento").val()!=""&&$.ajax({cache:!1,url:"/ParametrizarSolicitacao/AdicionarDocumento",type:"POST",datatype:"html",data:{codigoDocumento:parseInt($("#ddlDocumento").val())},traditional:!0,success:function(n){$("#gridDocumento").html(n);$("#tabelaDocumento").sedDataTable();AdicionarDocumento();ExcluirDocumento()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ExcluirDocumento=function(){$(".excluirDocumento").click(function(){var n=$(this).children().first().val();$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ExcluirDocumento",type:"POST",datatype:"html",data:{codigoDocumento:parseInt(n)},traditional:!0,success:function(n){$("#gridDocumento").html(n);$("#tabelaDocumento").sedDataTable();AdicionarDocumento();ExcluirDocumento()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},DetalharTipoSolicitacao=function(){$(".detalharTipoSolicitacao").click(function(){var n=$(this).children().first().val();$.ajax({cache:!1,url:"/ParametrizarSolicitacao/DetalharTipoSolicitacao",type:"POST",datatype:"html",data:{codigo:parseInt(n)},traditional:!0,success:function(n){$("#dialogTipoSolicitacao").html(n);$("#tabelaParametrizacao").sedDataTable();$("#tabelaFundamentoLegal").sedDataTable();$("#tabelaPassos").sedDataTable();DetalharFundamentoLegal();DetalharPasso();$("#dialogTipoSolicitacao").dialog("open")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},EditarTipoSolicitacao=function(){$(".editarTipoSolicitacao").click(function(){var n=$(this).children().first().val();$.ajax({cache:!1,url:"/ParametrizarSolicitacao/EditarTipoSolicitacao",type:"POST",datatype:"html",data:{codigo:parseInt(n)},traditional:!0,success:function(n){$("#dialogTipoSolicitacao").html(n);$("#tabelaParametrizacao").sedDataTable();$("#tabelaFundamentoLegal").sedDataTable();$("#tabelaPassos").sedDataTable();AdicionarParametrizacao();AdicionarFundamentoLegal();EditarParametrizacao();EditarFundamentoLegal();ExcluirParametrizacao();ExcluirFundamentoLegal();ConfigurarPasso();SalvarAtualizacao();$("#dialogTipoSolicitacao").dialog("open")},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})})},ExcluirTipoSolicitacao=function(){$(".excluirTipoSolicitacao").click(function(){var n=$(this).children().first().val();Mensagem.Alert({titulo:"Atenção!",mensagem:"Deseja realmente excluir o Documento?",tipo:"aviso",botoes:[{botao:"Sim",callback:function(){$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ExcluirTipoSolicitacao",type:"POST",datatype:"html",data:{codigo:parseInt(n)},traditional:!0,success:function(n){$("#tipoSolicitacaoGrid").html(n);$("#tabelaTipoSolicitacao").sedDataTable();DetalharTipoSolicitacao();EditarTipoSolicitacao();ExcluirTipoSolicitacao()},error:function(){$(document).ajaxStop(function(){Mensagem.CarregarMensagens("Fechar")})}})}},{botao:"Não",callback:function(){$.unblockUI()}}]})})},ConsultarTipoSolicitacao=function(){$.ajax({cache:!1,url:"/ParametrizarSolicitacao/ConsultarTipoSolicitacao",type:"POST",datatype:"html",data:{},traditional:!0,success:function(n){$("#tipoSolicitacaoGrid").html(n);$("#tabelaTipoSolicitacao").sedDataTable();DetalharTipoSolicitacao();EditarTipoSolicitacao();ExcluirTipoSolicitacao()},error:function(n,t,i){$(document).ajaxStop(function(){Mensagem.Alert({titulo:"Erro",mensagem:"Ocorreu um erro durante o processo: "+i,tipo:"Erro",botao:"Fechar"})})}})};
/*
//# sourceMappingURL=ParametrizarSolicitacao.min.js.map
*/